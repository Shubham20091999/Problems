
def minimumBribes(q):
    global dict
    i=0
    do=False
    while i<len(q)-1:
        if(q[i]>q[i+1]):
            dict[q[i]-1]+=1
            if(dict[q[i]-1]>2):
                return "Too chaotic"
            (q[i],q[i+1])=(q[i+1],q[i])
            do=True
            continue
        i+=1
    
    if(do):
        minimumBribes(q)
    ans=0
    for i in range(len(dict)):
        ans+=dict[i]
    return ans

t = int(input())
for t_itr in range(t):
    n = int(input())
    q = list(map(int, input().rstrip().split()))
    dict=[0]*len(q)
    print(minimumBribes(q))

# q = "1 4 2 6 3 7 5 8 11 10 13 14 9 16 12 18 17 15 21 20 19 24 23 26 22 25 29 28 27 32 31 30 35 36 34 38 37 33 41 40 39 44 43 42 46 45 49 50 48 52 47 54 53 51 57 58 59 56 55 62 61 60 63 65 67 66 64 70 69 72 71 73 68 76 75 78 77 74 81 82 80 79 85 84 83 87 89 86 91 90 88 94 95 93 92 98 97 96 100 102 99 101 104 103 105 107 106 110 109 111 108 114 113 112 115 118 117 116 120 122 119 121 124 123 127 126 125 129 128 130 131 134 132 133 137 136 139 138 135 140 143 144 142 141 147 146 149 145 148 151 152 154 155 150 153 157 159 160 156 158 163 164 161 162 167 166 165 170 169 168 173 171 172 175 177 178 174 176 181 180 179 184 182 186 185 188 183 190 187 191 189 194 192 193 195 198 199 197 196 201 200 204 202 206 205 203 209 207 210 208 212 214 213 215 211 218 217 220 219 221 216 224 222 223 227 226 225 229 231 228 232 230 233 236 234 237 239 235 238 240 242 243 241 246 244 248 247 245 251 249 253 254 252 250 257 256 259 260 255 262 258 261 265 264 263 268 267 270 266 269 273 272 275 271 276 274 277 280 279 278 282 281 285 283 287 286 284 290 289 291 288 293 295 294 292 297 296 300 299 302 298 304 303 301 307 306 308 305 311 309 313 312 315 314 310 318 319 317 316 321 320 324 323 322 326 325 329 330 327 328 333 331 335 332 334 338 337 340 336 342 339 344 343 345 341 348 347 346 350 352 349 351 355 354 356 353 358 357 361 360 359 364 363 365 362 368 367 370 366 372 369 374 373 371 377 376 379 378 375 380 382 383 381 385 384 387 389 386 391 390 388 393 392 394 396 395 399 398 401 397 400 404 402 403 407 405 406 408 411 409 413 412 410 415 416 414 419 418 417 422 421 420 425 423 427 424 428 426 430 429 433 434 431 432 437 436 438 440 439 435 441 443 442 446 445 448 444 449 447 452 450 451 455 454 456 453 459 457 458 462 461 460 465 464 463 468 467 466 471 470 473 472 475 469 474 476 479 477 478 482 481 483 480 484 486 485 489 487 488 491 490 494 493 492 497 496 499 495 498 502 501 500 504 503 507 506 505 510 511 512 508 509 515 513 514 518 516 519 517 522 520 524 523 526 521 528 529 525 527 530 533 531 532 535 537 536 538 534 541 542 539 544 540 543 547 545 549 546 550 552 551 548 555 554 553 557 556 560 559 562 563 561 558 566 567 564 568 565 570 569 572 571 575 573 577 574 579 580 576 578 581 583 582 584 587 588 585 586 591 589 593 590 594 596 597 592 598 595 601 599 603 604 600 602 606 605 609 608 607 612 613 611 610 615 616 617 614 620 619 618 623 621 625 622 626 624 629 628 627 632 631 633 630 636 637 635 634 640 639 642 643 638 645 641 644 647 646 649 648 651 650 653 655 652 656 658 659 654 657 662 661 660 665 664 667 663 669 668 666 671 670 673 674 672 676 675 679 680 678 677 682 683 684 686 681 685 689 690 687 691 693 688 692 695 694 698 699 700 696 702 697 703 701 705 704 708 709 710 706 711 707 714 715 712 713 717 719 720 716 718 721 723 722 726 725 724 729 727 731 728 730 734 733 736 735 737 732 740 739 741 738 744 743 746 742 747 749 745 750 748 752 753 751 756 754 758 759 755 760 757 762 764 761 765 763 768 767 769 766 772 771 770 773 776 775 774 779 778 777 782 780 784 783 781 786 785 789 788 787 792 791 790 795 794 797 793 799 798 800 796 802 801 805 803 806 804 809 807 808 812 813 811 815 810 816 814 819 820 817 818 823 822 821 824 827 826 825 830 829 832 833 828 831 835 836 838 837 840 839 834 842 841 843 846 844 847 845 850 848 852 851 849 855 853 856 854 857 860 858 859 863 861 865 864 862 868 867 869 866 870 873 871 872 876 877 874 879 878 881 880 875 884 883 885 882 886 889 888 891 892 893 887 895 894 897 890 899 900 896 902 903 898 901 905 907 904 909 908 910 912 906 914 913 911 915 917 919 916 920 918 922 924 921 926 925 928 923 930 931 932 927 929 935 934 933 937 939 940 938 936 942 941 945 943 946 944 949 948 947 952 951 954 950 953 956 958 955 957 960 961 959 964 963 962 967 966 965 970 969 968 972 974 971 976 973 977 975 978 981 980 979 984 983 986 982 988 987 985 990 989 993 994 992 991 997 996 998 995"
# q=list(map(int,q.split()))
# dict=[0]*len(q)
# print(minimumBribes(q))